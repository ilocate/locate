#  定位小程序需求分析

## 目的

- 记录轨迹(实时记录, 后台记录)
- 轨迹分析
- 轨迹回放

## 场景
1. 上下班记录路线, 时间段分析, 路线分享, 记录
2. 运动轨迹记录, 分析

## 主要功能
1.打开 APP 后, 默认进入自动记录轨迹页面, 可后台自动运行, 多次记录同一坐标点后自动停止(可手动停止录制), 超过(20分钟)时长后自动停止 APP记录功能(节电).
2.移动网络下不上传轨迹点, 连上 WIFI 后手动同步轨迹

## 主要模块

### 用户管理

* 登录
* 注册

### 定位模块
* 后台记录
* 实时记录

### 处理模块
* 数据缓存
* 联网同步
* 坐标转换(后台)
* 存储分析(后台)

### 设置模块
* 上传频率
* 多久自动停止记录
* 同步方式
* 关于

### 分析模块
* 轨迹回放
* 线路图
* 按月,年分析
* 热力点

## 数据库设计

### 用户表/User
id
username
phone
email
remark
setting

### 轨迹段/Track
id
user_id
start_at
end_at
label_id
note

### 轨迹点/point
id
track_id
created_at
lat(double)
lng(double)

### 标签/label
id
name
